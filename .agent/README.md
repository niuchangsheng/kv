# Subagent角色定义

本项目定义了多个专门的AI代理角色，每个角色负责不同的职责。AI代理可以根据任务类型自动切换角色，或由用户明确指定角色。

## 角色概览

| 角色 | 主要职责 | 关注点 | 文档 |
|------|---------|--------|------|
| **架构师** | 整体架构设计 | 稳定性、安全性、性能、成本 | [architect.md](architect.md) |
| **研发工程师** | 代码实现 | 功能实现、编译通过、代码质量 | [developer.md](developer.md) |
| **测试工程师** | 测试设计 | 测试用例、代码覆盖率、性能回归 | [test_engineer.md](test_engineer.md) |
| **代码审查员** | 代码审查 | 代码质量、规范符合、最佳实践 | [code_reviewer.md](code_reviewer.md) |

## 角色协作流程

### 典型开发流程

```
1. 架构师
   └─► 设计接口和架构
   └─► 输出：设计文档、接口定义
   
2. 研发工程师
   └─► 实现代码
   └─► 输出：源代码、编译通过
   
3. 测试工程师
   └─► 编写测试用例
   └─► 输出：测试代码、覆盖率报告
   
4. 代码审查员
   └─► 审查代码和测试
   └─► 输出：审查反馈、改进建议
   
5. 研发工程师/测试工程师
   └─► 根据反馈修改代码
   └─► 重新提交审查
   
6. 代码审查员（最终）
   └─► 确认问题已修复
   └─► 批准合并
```

## 角色切换提示

AI代理可以根据任务类型自动切换角色：

- **设计新功能** → 架构师角色
- **实现代码** → 研发工程师角色
- **编写测试** → 测试工程师角色
- **代码审查** → 代码审查员角色
- **架构评审** → 架构师角色

## 角色指定方式

在提示中明确指定角色：

```
作为架构师，请设计一个持久化存储接口...
作为研发工程师，请实现DB::Put方法...
作为测试工程师，请为WriteBatch编写测试用例...
作为代码审查员，请审查这个PR的代码质量...
```

## 文件结构

```
.agent/
├── README.md          # 本文件 - 角色概览和协作流程
├── architect.md       # 架构师角色定义
├── developer.md       # 研发工程师角色定义
├── test_engineer.md   # 测试工程师角色定义
└── code_reviewer.md   # 代码审查员角色定义
```
